# Веб-сервис для генерации резюме - .htaccess
# Базовые настройки для XAMPP

# Включение модуля rewrite
RewriteEngine On

# Базовый URL (закомментируйте если не работает)
# RewriteBase /resume-builder/

# Защита системных файлов
<FilesMatch "^\.(htaccess|htpasswd|ini|log|sh|inc|bak|swp)$">
    Order Allow,Deny
    Deny from all
</FilesMatch>

# Защита конфигурационных файлов
<Files "config.php">
    Order Allow,Deny
    Deny from all
</Files>

# Запрет доступа к папке includes извне
<IfModule mod_rewrite.c>
    RewriteRule ^includes/ - [F,L]
</IfModule>

# Перенаправление на главную для несуществующих файлов
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php?path=$1 [QSA,L]

# Настройки кэширования
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType image/jpg "access plus 1 month"
    ExpiresByType image/jpeg "access plus 1 month"
    ExpiresByType image/gif "access plus 1 month"
    ExpiresByType image/png "access plus 1 month"
    ExpiresByType text/css "access plus 1 week"
    ExpiresByType application/javascript "access plus 1 week"
    ExpiresByType text/html "access plus 1 day"
</IfModule>

# Включение сжатия GZIP
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript application/javascript application/json
</IfModule>

# Запрет просмотра содержимого папок
Options -Indexes

# Установка кодировки по умолчанию
AddDefaultCharset UTF-8

# Перенаправление ошибок
ErrorDocument 404 /resume-builder/404.php
ErrorDocument 403 /resume-builder/403.php
ErrorDocument 500 /resume-builder/500.php